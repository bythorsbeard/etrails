{"version":3,"sources":["scripts/app-ebecea9c10.js"],"names":["angular","module","SplashController","$scope","$timeout","$log","$location","callAtTimeout","console","log","path","controller","$inject","MainController","handleLocationError","browserHasGeolocation","infoWindow","pos","setPosition","setContent","gmap","trailLayer","hazzardLayer","entertainmentLayer","historicLayer","foodLayer","scenicLayer","restLayer","meMarker","layers","trail","url","preserveViewport","hazards","entertainment","food","scenic","historic","rest","toggleFilters","navCollapsed","document","getElementById","checked","setMap","info","$on","event","map","google","maps","KmlLayer","addListener","kmlEvent","text","featureData","description","findZoomMe","image","Marker","icon","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","setCenter","test","error","getCenter","hideLayer","getMap","runBlock","debug","run","routeConfig","$routeProvider","when","templateUrl","otherwise","redirectTo","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-ebecea9c10.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('etrails', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ngRoute', 'ui.bootstrap','ngMap']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('etrails')\n    .controller('SplashController', SplashController);\n\n  /** @ngInject */\n  function SplashController($scope, $timeout, $log, $location) {\n\n    var vm = this;\n    console.log(\"In Splash controller\" );\n\n    $timeout(callAtTimeout, 3000);\n\n    function callAtTimeout() {\n    console.log(\"Timeout occurred\");\n     $location.path(\"/main\");\n   }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('etrails')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, $log) {\n\n    var vm = this;\n    var gmap, trailLayer, hazzardLayer, entertainmentLayer, historicLayer, foodLayer, scenicLayer, restLayer,meMarker;\n\n    var layers = {\n      trail: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/ElizabethRiverTrail.kml',\n        preserveViewport: true\n      },\n      hazards: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Hazards.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      },\n      entertainment: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Entertainment.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      },\n      food: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/FoodDrink.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      },\n      scenic: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Scenic.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      },\n      historic: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Historic.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      },\n      rest: {\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Rest.kml',\n        //suppressInfoWindows: true,\n        preserveViewport: true\n      }\n\n    };\n\n    $scope.toggleFilters = function () {\n\n      $scope.navCollapsed = true;\n\n      if (document.getElementById(\"chkEnter\").checked) {\n        //entertainmentLayer = new google.maps.KmlLayer(layers.entertainment);\n        entertainmentLayer.setMap(gmap);\n        $log.info(\"nope\");\n      }\n      else {\n        $log.info(\"yep\");\n        entertainmentLayer.setMap(null);\n      }\n      if (document.getElementById(\"chkHist\").checked) {\n        //historicLayer = new google.maps.KmlLayer(layers.historic);\n        historicLayer.setMap(gmap);\n      }\n      else {\n        historicLayer.setMap(null);\n      }\n      if (document.getElementById(\"chkFood\").checked) {\n        //foodLayer = new google.maps.KmlLayer(layers.food);\n        foodLayer.setMap(gmap);\n      }\n      else {\n        foodLayer.setMap(null);\n      }\n      if (document.getElementById(\"chkScenic\").checked) {\n        //scenicLayer = new google.maps.KmlLayer(layers.scenic);\n        scenicLayer.setMap(gmap);\n      }\n      else {\n        scenicLayer.setMap(null);\n      }\n      if (document.getElementById(\"chkRest\").checked) {\n        //restLayer = new google.maps.KmlLayer(layers.rest);\n        restLayer.setMap(gmap);\n      }\n      else {\n        restLayer.setMap(null);\n      }\n\n    };\n\n    $scope.$on('mapInitialized', function (event, map) {\n      //google.maps.event.trigger(map, \"resize\");\n      gmap = map;\n\n      trailLayer = new google.maps.KmlLayer(layers.trail);\n      trailLayer.setMap(gmap);\n\n      hazzardLayer = new google.maps.KmlLayer(layers.hazards);\n      hazzardLayer.setMap(gmap);\n      hazzardLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      entertainmentLayer = new google.maps.KmlLayer(layers.entertainment);\n      entertainmentLayer.setMap(gmap);\n      entertainmentLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      historicLayer = new google.maps.KmlLayer(layers.historic);\n      historicLayer.setMap(gmap);\n      historicLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      foodLayer = new google.maps.KmlLayer(layers.food);\n      foodLayer.setMap(gmap);\n      foodLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      scenicLayer = new google.maps.KmlLayer(layers.scenic);\n      scenicLayer.setMap(gmap);\n      scenicLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      restLayer = new google.maps.KmlLayer(layers.rest);\n      restLayer.setMap(gmap);\n      restLayer.addListener('click', function (kmlEvent) {\n        var text = kmlEvent.featureData.description;\n        $log.info(text);\n      });\n\n      $log.info(map);\n    });\n\n\n    $scope.findZoomMe = function(){\n      $scope.navCollapsed = true;\n      //var infoWindow = new google.maps.InfoWindow({map: gmap});\n      var image = 'assets/kml/icons/mapPinMe.png';\n      if(!meMarker) {\n        meMarker = new google.maps.Marker({\n          map: gmap,\n          icon: image\n        });\n      }\n      // Try HTML5 geolocation.\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          var pos = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          };\n\n          meMarker.setPosition(pos);\n          //meMarker.setContent('Location found.');\n          $log.info(pos);\n          gmap.setCenter(pos);\n          //gmap.setZoom(20);\n\n        }, function (test) {\n          $log.error(test);\n          $log.error(\"wtf\");\n          handleLocationError(true, meMarker, gmap.getCenter());\n        });\n      } else {\n        $log.error(\"huh\");\n        // Browser doesn't support Geolocation\n        handleLocationError(false, meMarker, gmap.getCenter());\n      }\n\n    };\n\n    function handleLocationError(browserHasGeolocation, infoWindow, pos) {\n      infoWindow.setPosition(pos);\n      infoWindow.setContent(browserHasGeolocation ?\n        'Error: The Geolocation service failed.' :\n        'Error: Your browser doesn\\'t support geolocation.');\n    }\n\n    $scope.hideLayer = function () {\n      if (hazzardLayer.getMap()) {\n        hazzardLayer.setMap(null);\n      } else {\n        hazzardLayer = new google.maps.KmlLayer(layers.hazards);\n        hazzardLayer.setMap(gmap);\n      }\n\n    };\n\n  }\n})();\n\n/*\n(function() {\n  'use strict';\n\n  angular\n    .module('etrails')\n    .controller('MainController', MainController);\n\n  /!** @ngInject *!/\n  function MainController($scope,$timeout, webDevTec, toastr,$log) {\n\n    var vm = this;\n\n    $scope.$on('mapInitialized', function(event, map) {\n        google.maps.event.trigger(map, \"resize\");\n    });\n\n    vm.awesomeThings = [];\n    vm.classAnimation = '';\n    vm.creationDate = 1445470013693;\n    vm.showToastr = showToastr;\n\n    activate();\n\n    function activate() {\n      getWebDevTec();\n      $timeout(function() {\n        vm.classAnimation = 'rubberBand';\n      }, 4000);\n    }\n\n    function showToastr() {\n      toastr.info('Fork <a href=\"https://github.com/Swiip/generator-gulp-angular\" target=\"_blank\"><b>generator-gulp-angular</b></a>');\n      vm.classAnimation = '';\n    }\n\n    function getWebDevTec() {\n      vm.awesomeThings = webDevTec.getTec();\n\n      angular.forEach(vm.awesomeThings, function(awesomeThing) {\n        awesomeThing.rank = Math.random();\n      });\n    }\n  }\n})();\n*/\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end');\r\n  }\r\n\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('etrails')\n    .config(routeConfig);\n\n  function routeConfig($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'app/splash/splash.html',\n        controller: 'SplashController',\n        //controllerAs: 'splash'\n      })\n      .when('/main', {\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        //controllerAs: 'main'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('etrails')\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('etrails')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n  }\n\n})();\n\nangular.module(\"etrails\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/attraction/attraction.html\",\"<div>THIS IS THE ATTRACTION PAGE</div>\");\n$templateCache.put(\"app/main/main.html\",\"<nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle\\\" ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\">Features</a></div><div class=\\\"collapse navbar-collapse\\\" ng-class=\\\"!navCollapsed && \\'in\\'\\\"><ul class=\\\"nav navbar-nav\\\"><div class=\\\"checkbox\\\"><label><input id=\\\"chkFood\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Food & Drink</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkEnter\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Entertainment</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkHist\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Historic</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkScenic\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Scenic</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkRest\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Rest</label></div><button type=\\\"submit\\\" ng-click=\\\"toggleFilters()\\\" class=\\\"btn btn-default text-center\\\">Show Me</button> <button type=\\\"submit\\\" ng-click=\\\"findZoomMe()\\\" class=\\\"btn btn-default\\\">Where am I?</button></ul></div></nav><map center=\\\"36.8452233,-76.2869356\\\" zoom=\\\"14\\\" disable-default-u-i=\\\"true\\\" styles=\\\"[{\\'featureType\\':\\'administrative\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'lightness\\':33}]},{\\'featureType\\':\\'landscape\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'color\\':\\'#f2e5d4\\'}]},{\\'featureType\\':\\'poi.park\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#c5dac6\\'}]},{\\'featureType\\':\\'poi.park\\',\\'elementType\\':\\'labels\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'lightness\\':20}]},{\\'featureType\\':\\'road\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'lightness\\':20}]},{\\'featureType\\':\\'road.highway\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#c5c6c6\\'}]},{\\'featureType\\':\\'road.arterial\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#e4d7c6\\'}]},{\\'featureType\\':\\'road.local\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#fbfaf7\\'}]},{\\'featureType\\':\\'water\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'color\\':\\'#3EB3B3\\'}]}]\\\"></map>\");\n$templateCache.put(\"app/splash/splash.html\",\"<div><img class=\\\"splash\\\" src=\\\"assets/images/splash.png\\\"></div>\");}]);"],"sourceRoot":"/source/"}