{"version":3,"sources":["scripts/app-10c5ef6944.js"],"names":["angular","module","SplashController","$scope","$timeout","$log","$location","callAtTimeout","console","log","path","controller","$inject","MainController","handleLocationError","browserHasGeolocation","infoWindow","pos","setPosition","setContent","gmap","trailLayer","hazzardLayer","entertainmentLayer","historicLayer","foodLayer","scenicLayer","restLayer","meMarker","layers","trail","url","preserveViewport","hazards","entertainment","food","scenic","historic","rest","toggleFilters","navCollapsed","document","getElementById","checked","setMap","info","$on","event","map","google","maps","KmlLayer","addListener","kmlEvent","text","featureData","description","findZoomMe","image","Marker","icon","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","setCenter","test","error","getCenter","hideLayer","getMap","runBlock","debug","run","routeConfig","$routeProvider","when","templateUrl","otherwise","redirectTo","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-10c5ef6944.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ngRoute', 'ui.bootstrap','ngMap']);\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .controller('SplashController', SplashController);\r\n\r\n  /** @ngInject */\r\n  function SplashController($scope, $timeout, $log, $location) {\r\n\r\n    var vm = this;\r\n    console.log(\"In Splash controller\" );\r\n\r\n    $timeout(callAtTimeout, 3000);\r\n\r\n    function callAtTimeout() {\r\n    console.log(\"Timeout occurred\");\r\n     $location.path(\"/main\");\r\n   }\r\n\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .controller('MainController', MainController);\r\n\r\n  /** @ngInject */\r\n  function MainController($scope, $log) {\r\n\r\n    var vm = this;\r\n    var gmap, trailLayer, hazzardLayer, entertainmentLayer, historicLayer, foodLayer, scenicLayer, restLayer,meMarker;\r\n\r\n    var layers = {\r\n      trail: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/ElizabethRiverTrail.kml',\r\n        preserveViewport: true\r\n      },\r\n      hazards: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Hazards.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      },\r\n      entertainment: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Entertainment.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      },\r\n      food: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/FoodDrink.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      },\r\n      scenic: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Scenic.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      },\r\n      historic: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Historic.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      },\r\n      rest: {\r\n        url: 'https://raw.githubusercontent.com/bythorsbeard/etrails/master/src/assets/kml/Rest.kml',\r\n        //suppressInfoWindows: true,\r\n        preserveViewport: true\r\n      }\r\n\r\n    };\r\n\r\n    $scope.toggleFilters = function () {\r\n\r\n      $scope.navCollapsed = true;\r\n\r\n      if (document.getElementById(\"chkEnter\").checked) {\r\n        //entertainmentLayer = new google.maps.KmlLayer(layers.entertainment);\r\n        entertainmentLayer.setMap(gmap);\r\n        $log.info(\"nope\");\r\n      }\r\n      else {\r\n        $log.info(\"yep\");\r\n        entertainmentLayer.setMap(null);\r\n      }\r\n      if (document.getElementById(\"chkHist\").checked) {\r\n        //historicLayer = new google.maps.KmlLayer(layers.historic);\r\n        historicLayer.setMap(gmap);\r\n      }\r\n      else {\r\n        historicLayer.setMap(null);\r\n      }\r\n      if (document.getElementById(\"chkFood\").checked) {\r\n        //foodLayer = new google.maps.KmlLayer(layers.food);\r\n        foodLayer.setMap(gmap);\r\n      }\r\n      else {\r\n        foodLayer.setMap(null);\r\n      }\r\n      if (document.getElementById(\"chkScenic\").checked) {\r\n        //scenicLayer = new google.maps.KmlLayer(layers.scenic);\r\n        scenicLayer.setMap(gmap);\r\n      }\r\n      else {\r\n        scenicLayer.setMap(null);\r\n      }\r\n      if (document.getElementById(\"chkRest\").checked) {\r\n        //restLayer = new google.maps.KmlLayer(layers.rest);\r\n        restLayer.setMap(gmap);\r\n      }\r\n      else {\r\n        restLayer.setMap(null);\r\n      }\r\n\r\n    };\r\n\r\n    $scope.$on('mapInitialized', function (event, map) {\r\n      //google.maps.event.trigger(map, \"resize\");\r\n      gmap = map;\r\n\r\n      trailLayer = new google.maps.KmlLayer(layers.trail);\r\n      trailLayer.setMap(gmap);\r\n\r\n      hazzardLayer = new google.maps.KmlLayer(layers.hazards);\r\n      hazzardLayer.setMap(gmap);\r\n      hazzardLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      entertainmentLayer = new google.maps.KmlLayer(layers.entertainment);\r\n      entertainmentLayer.setMap(gmap);\r\n      entertainmentLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      historicLayer = new google.maps.KmlLayer(layers.historic);\r\n      historicLayer.setMap(gmap);\r\n      historicLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      foodLayer = new google.maps.KmlLayer(layers.food);\r\n      foodLayer.setMap(gmap);\r\n      foodLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      scenicLayer = new google.maps.KmlLayer(layers.scenic);\r\n      scenicLayer.setMap(gmap);\r\n      scenicLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      restLayer = new google.maps.KmlLayer(layers.rest);\r\n      restLayer.setMap(gmap);\r\n      restLayer.addListener('click', function (kmlEvent) {\r\n        var text = kmlEvent.featureData.description;\r\n        $log.info(text);\r\n      });\r\n\r\n      $log.info(map);\r\n    });\r\n\r\n\r\n    $scope.findZoomMe = function(){\r\n      $scope.navCollapsed = true;\r\n      //var infoWindow = new google.maps.InfoWindow({map: gmap});\r\n      var image = 'assets/kml/icons/mapPinMe.png';\r\n      if(!meMarker) {\r\n        meMarker = new google.maps.Marker({\r\n          map: gmap,\r\n          icon: image\r\n        });\r\n      }\r\n      // Try HTML5 geolocation.\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n          var pos = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n\r\n          meMarker.setPosition(pos);\r\n          //meMarker.setContent('Location found.');\r\n          $log.info(pos);\r\n          gmap.setCenter(pos);\r\n          //gmap.setZoom(20);\r\n\r\n        }, function (test) {\r\n          $log.error(test);\r\n          $log.error(\"wtf\");\r\n          handleLocationError(true, meMarker, gmap.getCenter());\r\n        });\r\n      } else {\r\n        $log.error(\"huh\");\r\n        // Browser doesn't support Geolocation\r\n        handleLocationError(false, meMarker, gmap.getCenter());\r\n      }\r\n\r\n    };\r\n\r\n    function handleLocationError(browserHasGeolocation, infoWindow, pos) {\r\n      infoWindow.setPosition(pos);\r\n      infoWindow.setContent(browserHasGeolocation ?\r\n        'Error: The Geolocation service failed.' :\r\n        'Error: Your browser doesn\\'t support geolocation.');\r\n    }\r\n\r\n    $scope.hideLayer = function () {\r\n      if (hazzardLayer.getMap()) {\r\n        hazzardLayer.setMap(null);\r\n      } else {\r\n        hazzardLayer = new google.maps.KmlLayer(layers.hazards);\r\n        hazzardLayer.setMap(gmap);\r\n      }\r\n\r\n    };\r\n\r\n  }\r\n})();\r\n\n/*\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .controller('MainController', MainController);\r\n\r\n  /!** @ngInject *!/\r\n  function MainController($scope,$timeout, webDevTec, toastr,$log) {\r\n\r\n    var vm = this;\r\n\r\n    $scope.$on('mapInitialized', function(event, map) {\r\n        google.maps.event.trigger(map, \"resize\");\r\n    });\r\n\r\n    vm.awesomeThings = [];\r\n    vm.classAnimation = '';\r\n    vm.creationDate = 1445470013693;\r\n    vm.showToastr = showToastr;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      getWebDevTec();\r\n      $timeout(function() {\r\n        vm.classAnimation = 'rubberBand';\r\n      }, 4000);\r\n    }\r\n\r\n    function showToastr() {\r\n      toastr.info('Fork <a href=\"https://github.com/Swiip/generator-gulp-angular\" target=\"_blank\"><b>generator-gulp-angular</b></a>');\r\n      vm.classAnimation = '';\r\n    }\r\n\r\n    function getWebDevTec() {\r\n      vm.awesomeThings = webDevTec.getTec();\r\n\r\n      angular.forEach(vm.awesomeThings, function(awesomeThing) {\r\n        awesomeThing.rank = Math.random();\r\n      });\r\n    }\r\n  }\r\n})();\r\n*/\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($log) {\r\n\r\n    $log.debug('runBlock end');\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .config(routeConfig);\r\n\r\n  function routeConfig($routeProvider) {\r\n    $routeProvider\r\n      .when('/', {\r\n        templateUrl: 'app/splash/splash.html',\r\n        controller: 'SplashController',\r\n        //controllerAs: 'splash'\r\n      })\r\n      .when('/main', {\r\n        templateUrl: 'app/main/main.html',\r\n        controller: 'MainController',\r\n        //controllerAs: 'main'\r\n      })\r\n      .otherwise({\r\n        redirectTo: '/'\r\n      });\r\n  }\r\n\r\n})();\r\n\n/* global malarkey:false, moment:false */\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('etrails')\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($logProvider) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n\r\n  }\r\n\r\n})();\r\n\nangular.module(\"etrails\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/attraction/attraction.html\",\"<div>THIS IS THE ATTRACTION PAGE</div>\");\n$templateCache.put(\"app/main/main.html\",\"<nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle\\\" ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\">Features</a></div><div class=\\\"collapse navbar-collapse\\\" ng-class=\\\"!navCollapsed && \\'in\\'\\\"><ul class=\\\"nav navbar-nav\\\"><div class=\\\"checkbox\\\"><label><input id=\\\"chkFood\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Food & Drink</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkEnter\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Entertainment</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkHist\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Historic</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkScenic\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Scenic</label></div><div class=\\\"checkbox\\\"><label><input id=\\\"chkRest\\\" type=\\\"checkbox\\\" checked=\\\"checked\\\"> Rest</label></div><button type=\\\"submit\\\" ng-click=\\\"toggleFilters()\\\" class=\\\"btn btn-default text-center\\\">Show Me</button> <button type=\\\"submit\\\" ng-click=\\\"findZoomMe()\\\" class=\\\"btn btn-default\\\">Where am I?</button></ul></div></nav><map center=\\\"36.8452233,-76.2869356\\\" zoom=\\\"14\\\" disable-default-u-i=\\\"true\\\" styles=\\\"[{\\'featureType\\':\\'administrative\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'lightness\\':33}]},{\\'featureType\\':\\'landscape\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'color\\':\\'#f2e5d4\\'}]},{\\'featureType\\':\\'poi.park\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#c5dac6\\'}]},{\\'featureType\\':\\'poi.park\\',\\'elementType\\':\\'labels\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'lightness\\':20}]},{\\'featureType\\':\\'road\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'lightness\\':20}]},{\\'featureType\\':\\'road.highway\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#c5c6c6\\'}]},{\\'featureType\\':\\'road.arterial\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#e4d7c6\\'}]},{\\'featureType\\':\\'road.local\\',\\'elementType\\':\\'geometry\\',\\'stylers\\':[{\\'color\\':\\'#fbfaf7\\'}]},{\\'featureType\\':\\'water\\',\\'elementType\\':\\'all\\',\\'stylers\\':[{\\'visibility\\':\\'on\\'},{\\'color\\':\\'#3EB3B3\\'}]}]\\\"></map>\");\n$templateCache.put(\"app/splash/splash.html\",\"<div><img class=\\\"splash\\\" src=\\\"assets/images/splash.png\\\"></div>\");}]);"],"sourceRoot":"/source/"}